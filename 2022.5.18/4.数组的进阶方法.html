<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数组的进阶</title>
</head>
<body>
    <div>1</div>
    <div>2</div>
    <div>3</div>
    <div>4</div>
    <div>5</div>
</body>
<script>
    var boxs = document.querySelectorAll('div');
    console.dir(boxs);// 返回 NodeList(5) 集合，类数组“类似于数组的对象，不是真正的数组”
    // Array.from() 把参数转化为真正的数组。
    console.dir(Array.from(boxs));

    var arr = [2,20,100,50];

    // forEach() 方法，遍历，循环“相当于for循环，数组的每一个元素都调用一次遍历一次函数”
    // 参数：有3个参数（1.遍历的数组的元素。2.数组的下标。3.数组本身"可以不用写"）
    arr.forEach(function(item,index){
        console.log('第' + index + "个元素为" + item);
    });

    // every() 指“每一项”都符合条件 (判断数组中数据是否都符合条件)
    // 原理：让数组中每一条数据都参与函数的运算，并返回true/false，如果有一个结果为fasle就返回false
    // 参数：有3个参数（1.遍历的数组的元素。2.数组的下标。3.数组本身"可以不用写"）
    var result = arr.every(function(item,index){
        return item  > 10;
    });
    console.log(result);

    // some() 指“某些项”符合条件返回true (判断数组中数据是否有符合条件的)
    // 原理：让数组中每一条数据都参与函数的运算，并返回true/false，如果有一个结果为true就返回true
    // 参数：有3个参数（1.遍历的数组的元素。2.数组的下标。3.数组本身"可以不用写"）
    var result = arr.some(function(item,index){
        return item  > 10; 
    });
    console.log(result);

    // 总结 forEach 和 every 与 some的区别
    // every只要有fales返回，就不再执行了。 some只要有true返回，就不再执行了。


    // map() "映射"，原数组被“映射”为对应的新的数组
    // 原理：把数组的每一个元素都参与函数运算，然后把每个元素运算的结果组成一个新的数组返回。
    var res = arr.map(function(item){
        return Math.pow(item,2);
    });
    console.log(res);
    console.log(arr);



    // filter() "过滤"，“筛选”，数组过滤后的新的数组
    // 原理：把数组的每一个元素都参与函数运算，如果结果为true将元素存入到新的数组中，如果结果为false就抛弃该元素。
    var res = arr.filter(function(item){
        return item > 10;
    });
    console.log(res);
    console.log(arr);


    // find() ,用于找出第一个符合条件的数组元素
    // 原理：所有元素依次执行回调函数，找到第一个值为true的元素返回“就不再执行了”，如果都没有就返回undefined
    var res = arr.find(function(item){
        return item > 10;
    });
    console.log(res);

    

    // reduce() "减少" ，是一种“累计”计算的方法
    // 原理：把数组的每一个元素都参与函数运算，然后把每一次元素的结果都存放在第一个参数里面，再执行回调函数“直到数据处理完毕”。
    // 参数：有4个(1.存放上一次运算的结果“初始值第一个元素2”。2.当前元素。3.元素的下标。4.数组本身)
    var res = arr.reduce(function(prev,item,idnex,arr){
        return prev + item;
    });
    console.log(res);

    // 添加始值 (在初始值原有的基础上与数组中数据依次进行计算)
    var res = arr.reduce(function(prev,item,idnex,arr){
        console.log(prev);
        return prev + item;
    },10);
    console.log(res);
    // 总结：reduce()方法中
    // 如果第一个参数没有初始值“item值第一次调用的是下标为1的数据”
    // 如果第一个参数有初始值“item值第一次调用的是下标为0的数据”+
</script>
</html>